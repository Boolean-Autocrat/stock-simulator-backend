// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.25.0
// source: market.sql

package db

import (
	"context"

	"github.com/google/uuid"
)

const createTrade = `-- name: CreateTrade :exec
INSERT INTO trade_history (stock, quantity, buyer, seller) VALUES ($1, $2, $3, $4)
`

type CreateTradeParams struct {
	Stock    uuid.UUID `json:"stock"`
	Quantity int32     `json:"quantity"`
	Buyer    uuid.UUID `json:"buyer"`
	Seller   uuid.UUID `json:"seller"`
}

func (q *Queries) CreateTrade(ctx context.Context, arg CreateTradeParams) error {
	_, err := q.db.ExecContext(ctx, createTrade,
		arg.Stock,
		arg.Quantity,
		arg.Buyer,
		arg.Seller,
	)
	return err
}

const updateStockPrice = `-- name: UpdateStockPrice :exec
UPDATE stocks SET price = $1, trend = $2, percentage_change = $3 WHERE id = $4
`

type UpdateStockPriceParams struct {
	Price            float32   `json:"price"`
	Trend            string    `json:"trend"`
	PercentageChange float32   `json:"percentageChange"`
	ID               uuid.UUID `json:"id"`
}

func (q *Queries) UpdateStockPrice(ctx context.Context, arg UpdateStockPriceParams) error {
	_, err := q.db.ExecContext(ctx, updateStockPrice,
		arg.Price,
		arg.Trend,
		arg.PercentageChange,
		arg.ID,
	)
	return err
}
